# OpenAI å¯¹è¯æ ¼å¼ï¼ˆChat Completionsï¼‰

> å®˜æ–¹æ–‡æ¡£è¯·å‚é˜…ï¼š

> [OpenAI Chat](https://platform.openai.com/docs/api-reference/chat)

## ğŸ“ ç®€ä»‹

ç»™å®šä¸€ç»„åŒ…å«å¯¹è¯çš„æ¶ˆæ¯åˆ—è¡¨ï¼Œæ¨¡å‹å°†è¿”å›ä¸€ä¸ªå“åº”ã€‚ç›¸å…³æŒ‡å—å¯å‚é˜…OpenAIå®˜ç½‘ï¼š[Chat Completions](https://platform.openai.com/docs/guides/chat)

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### åŸºç¡€æ–‡æœ¬å¯¹è¯ âœ…

```bash
curl https://newapiåœ°å€/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [
      {
        "role": "system",
        "content": "ä½ æ˜¯ä¸€ä¸ªæœ‰å¸®åŠ©çš„åŠ©æ‰‹ã€‚"
      },
      {
        "role": "user",
        "content": "ä½ å¥½!"
      }
    ]
  }'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "id": "chatcmpl-123",
  "object": "chat.completion",
  "created": 1677652288,
  "model": "gpt-4o-mini",
  "system_fingerprint": "fp_44709d6fcb",
  "choices": [{
    "index": 0,
    "message": {
      "role": "assistant",
      "content": "ä½ å¥½!æˆ‘å¾ˆé«˜å…´èƒ½å¸®åŠ©ä½ ã€‚è¯·é—®æœ‰ä»€ä¹ˆæˆ‘å¯ä»¥ååŠ©ä½ çš„å—?"
    },
    "logprobs": null,
    "finish_reason": "stop"
  }],
  "usage": {
    "prompt_tokens": 9,
    "completion_tokens": 12,
    "total_tokens": 21
  }
}
```

### å›¾åƒåˆ†æå¯¹è¯ âœ…

```bash
curl https://newapiåœ°å€/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [
      {
        "role": "user",
        "content": [
          {
            "type": "text",
            "text": "è¿™å¼ å›¾ç‰‡é‡Œæœ‰ä»€ä¹ˆ?"
          },
          {
            "type": "image_url",
            "image_url": {
              "url": "https://example.com/image.jpg"
            }
          }
        ]
      }
    ],
    "max_tokens": 300
  }'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "id": "chatcmpl-123",
  "object": "chat.completion",
  "created": 1677652288,
  "model": "gpt-4o-mini",
  "system_fingerprint": "fp_44709d6fcb",
  "choices": [{
    "index": 0,
    "message": {
      "role": "assistant",
      "content": "è¿™å¼ å›¾ç‰‡å±•ç¤ºäº†ä¸€æ¡æœ¨åˆ¶æ ˆé“ç©¿è¿‡èŒ‚å¯†çš„ç»¿è‰²æ¹¿åœ°ã€‚æ ˆé“ä¼¼ä¹å»¶ä¼¸åˆ°è¿œå¤„,ä¸¤æ—æ˜¯éƒéƒè‘±è‘±çš„æ¤è¢«ã€‚"
    },
    "logprobs": null,
    "finish_reason": "stop"
  }],
  "usage": {
    "prompt_tokens": 9,
    "completion_tokens": 12,
    "total_tokens": 21
  }
}
```

### æµå¼å“åº” âœ…

```bash
curl https://newapiåœ°å€/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [
      {
        "role": "user",
        "content": "è®²ä¸ªæ•…äº‹"
      }
    ],
    "stream": true
  }'
```

**æµå¼å“åº”ç¤ºä¾‹:**

```jsonl
{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"gpt-4o-mini","system_fingerprint":"fp_44709d6fcb","choices":[{"index":0,"delta":{"role":"assistant","content":""},"logprobs":null,"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"gpt-4o-mini","system_fingerprint":"fp_44709d6fcb","choices":[{"index":0,"delta":{"content":"ä»å‰"},"logprobs":null,"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"gpt-4o-mini","system_fingerprint":"fp_44709d6fcb","choices":[{"index":0,"delta":{"content":"æœ‰ä¸€åª"},"logprobs":null,"finish_reason":null}]}

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"gpt-4o-mini","system_fingerprint":"fp_44709d6fcb","choices":[{"index":0,"delta":{"content":"å°å…”å­"},"logprobs":null,"finish_reason":null}]}

// ... æ›´å¤šæ•°æ®å— ...

{"id":"chatcmpl-123","object":"chat.completion.chunk","created":1694268190,"model":"gpt-4o-mini","system_fingerprint":"fp_44709d6fcb","choices":[{"index":0,"delta":{},"logprobs":null,"finish_reason":"stop"}]}
```

### å‡½æ•°è°ƒç”¨ âœ…

```bash
curl https://newapiåœ°å€/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [
      {
        "role": "user",
        "content": "åŒ—äº¬ä»Šå¤©çš„å¤©æ°”æ€ä¹ˆæ ·?"
      }
    ],
    "tools": [
      {
        "type": "function",
        "function": {
          "name": "get_weather",
          "description": "è·å–æŒ‡å®šä½ç½®çš„å½“å‰å¤©æ°”",
          "parameters": {
            "type": "object",
            "properties": {
              "location": {
                "type": "string",
                "description": "åŸå¸‚åç§°,å¦‚: åŒ—äº¬"
              },
              "unit": {
                "type": "string",
                "enum": ["celsius", "fahrenheit"]
              }
            },
            "required": ["location"]
          }
        }
      }
    ],
    "tool_choice": "auto"
  }'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "id": "chatcmpl-abc123",
  "object": "chat.completion",
  "created": 1699896916,
  "model": "gpt-4o-mini",
  "choices": [
    {
      "index": 0,
      "message": {
        "role": "assistant",
        "content": null,
        "tool_calls": [
          {
            "id": "call_abc123",
            "type": "function",
            "function": {
              "name": "get_weather",
              "arguments": "{\"location\": \"åŒ—äº¬\", \"unit\": \"celsius\"}"
            }
          }
        ]
      },
      "logprobs": null,
      "finish_reason": "tool_calls"
    }
  ],
  "usage": {
    "prompt_tokens": 82,
    "completion_tokens": 17,
    "total_tokens": 99
  }
}
```

### JSON æ¨¡å¼è¾“å‡º âœ…

```bash
curl https://newapiåœ°å€/v1/chat/completions \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $NEWAPI_API_KEY" \
  -d '{
    "model": "gpt-4o",
    "messages": [
      {
        "role": "system",
        "content": "ä½ æ˜¯ä¸€ä¸ªJSONåŠ©æ‰‹,è¯·ä»¥JSONæ ¼å¼å›å¤ã€‚"
      },
      {
        "role": "user",
        "content": "ç»™æˆ‘ä¸€ä¸ªç”¨æˆ·ä¿¡æ¯ç¤ºä¾‹"
      }
    ],
    "response_format": { "type": "json_object" }
  }'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "id": "chatcmpl-123",
  "object": "chat.completion",
  "created": 1677652288,
  "model": "gpt-4o-mini",
  "system_fingerprint": "fp_44709d6fcb",
  "choices": [{
    "index": 0,
    "message": {
      "role": "assistant",
      "content": "{\"user\":{\"id\":1,\"name\":\"å¼ ä¸‰\",\"age\":28,\"email\":\"zhangsan@example.com\",\"interests\":[\"è¯»ä¹¦\",\"æ—…æ¸¸\",\"æ‘„å½±\"]}}"
    },
    "logprobs": null,
    "finish_reason": "stop"
  }],
  "usage": {
    "prompt_tokens": 10,
    "completion_tokens": 15,
    "total_tokens": 25
  }
}
```

## ğŸ“® è¯·æ±‚

### ç«¯ç‚¹

```
POST /v1/chat/completions
```

åˆ›å»ºç»™å®šèŠå¤©å¯¹è¯çš„æ¨¡å‹å“åº”ã€‚æ›´å¤šè¯¦æƒ…è¯·å‚é˜…æ–‡æœ¬ç”Ÿæˆã€è§†è§‰å’ŒéŸ³é¢‘æŒ‡å—ã€‚

### é‰´æƒæ–¹æ³•

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š

```
Authorization: Bearer $NEWAPI_API_KEY
```

å…¶ä¸­ `$NEWAPI_API_KEY` æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚æ‚¨å¯ä»¥åœ¨ OpenAI å¹³å°çš„ API å¯†é’¥é¡µé¢ä¸­æ‰¾åˆ°æˆ–ç”Ÿæˆ API å¯†é’¥ã€‚

### è¯·æ±‚ä½“å‚æ•°

#### `messages`

- ç±»å‹ï¼šæ•°ç»„
- å¿…éœ€ï¼šæ˜¯

åˆ°ç›®å‰ä¸ºæ­¢åŒ…å«å¯¹è¯çš„æ¶ˆæ¯åˆ—è¡¨ã€‚æ ¹æ®ä½¿ç”¨çš„æ¨¡å‹ï¼Œæ”¯æŒä¸åŒçš„æ¶ˆæ¯ç±»å‹ï¼ˆå½¢å¼ï¼‰ï¼Œå¦‚æ–‡æœ¬ã€å›¾åƒå’ŒéŸ³é¢‘ã€‚

#### `model`

- ç±»å‹ï¼šå­—ç¬¦ä¸²  
- å¿…éœ€ï¼šæ˜¯

è¦ä½¿ç”¨çš„æ¨¡å‹ IDã€‚æœ‰å…³å“ªäº›æ¨¡å‹é€‚ç”¨äº Chat API çš„è¯¦ç»†ä¿¡æ¯ï¼Œè¯·å‚é˜…æ¨¡å‹ç«¯ç‚¹å…¼å®¹æ€§è¡¨ã€‚

#### `store` 

- ç±»å‹ï¼šå¸ƒå°”å€¼æˆ– null
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šfalse

æ˜¯å¦å­˜å‚¨æ­¤èŠå¤©è¡¥å…¨è¯·æ±‚çš„è¾“å‡ºä»¥ç”¨äºæˆ‘ä»¬çš„æ¨¡å‹è’¸é¦æˆ–è¯„ä¼°äº§å“ã€‚

#### `reasoning_effort`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ– null
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šmedium
- ä»…é€‚ç”¨äº o1 å’Œ o3-mini æ¨¡å‹

çº¦æŸæ¨ç†æ¨¡å‹çš„æ¨ç†å·¥ä½œã€‚å½“å‰æ”¯æŒçš„å€¼ä¸º lowã€medium å’Œ highã€‚å‡å°‘æ¨ç†å·¥ä½œå¯ä»¥åŠ å¿«å“åº”é€Ÿåº¦å¹¶å‡å°‘å“åº”ä¸­ç”¨äºæ¨ç†çš„æ ‡è®°æ•°ã€‚

#### `metadata`

- ç±»å‹ï¼šmap
- å¿…éœ€ï¼šå¦

å¯ä»¥é™„åŠ åˆ°å¯¹è±¡çš„16ä¸ªé”®å€¼å¯¹é›†åˆã€‚è¿™å¯¹äºä»¥ç»“æ„åŒ–æ ¼å¼å­˜å‚¨å¯¹è±¡çš„å…¶ä»–ä¿¡æ¯å¾ˆæœ‰ç”¨,å¹¶å¯ä»¥é€šè¿‡ API æˆ–ä»ªè¡¨æ¿æŸ¥è¯¢å¯¹è±¡ã€‚

é”®æ˜¯æœ€å¤§é•¿åº¦ä¸º64ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚å€¼æ˜¯æœ€å¤§é•¿åº¦ä¸º512ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ã€‚

#### `modalities`

- ç±»å‹ï¼šæ•°ç»„æˆ– null
- å¿…éœ€ï¼šå¦

æ‚¨å¸Œæœ›æ¨¡å‹ä¸ºæ­¤è¯·æ±‚ç”Ÿæˆçš„è¾“å‡ºç±»å‹ã€‚å¤§å¤šæ•°æ¨¡å‹éƒ½èƒ½ç”Ÿæˆæ–‡æœ¬,è¿™æ˜¯é»˜è®¤è®¾ç½®:
["text"]

è¯¥æ¨¡å‹è¿˜å¯ä»¥ç”¨äºç”ŸæˆéŸ³é¢‘ã€‚è¦è¯·æ±‚æ­¤æ¨¡å‹åŒæ—¶ç”Ÿæˆæ–‡æœ¬å’ŒéŸ³é¢‘å“åº”,æ‚¨å¯ä»¥ä½¿ç”¨:
["text", "audio"]

#### `prediction`

- ç±»å‹ï¼šå¯¹è±¡
- å¿…éœ€ï¼šå¦

é¢„æµ‹è¾“å‡ºçš„é…ç½®,å½“æå‰çŸ¥é“æ¨¡å‹å“åº”çš„å¤§éƒ¨åˆ†å†…å®¹æ—¶,å¯ä»¥å¤§å¤§æé«˜å“åº”æ—¶é—´ã€‚è¿™åœ¨æ‚¨åªå¯¹æ–‡ä»¶è¿›è¡Œå¾®å°æ›´æ”¹æ—¶æœ€å¸¸è§ã€‚

#### `audio`

- ç±»å‹ï¼šå¯¹è±¡æˆ– null
- å¿…éœ€ï¼šå¦

éŸ³é¢‘è¾“å‡ºçš„å‚æ•°ã€‚å½“ä½¿ç”¨ modalities: ["audio"] è¯·æ±‚éŸ³é¢‘è¾“å‡ºæ—¶éœ€è¦ã€‚

#### `temperature`

- ç±»å‹ï¼šæ•°å­—æˆ– null
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š1

è¦ä½¿ç”¨çš„é‡‡æ ·æ¸©åº¦ï¼Œä»‹äº 0 å’Œ 2 ä¹‹é—´ã€‚è¾ƒé«˜çš„å€¼ï¼ˆå¦‚0.8ï¼‰ä¼šä½¿è¾“å‡ºæ›´åŠ éšæœºï¼Œè€Œè¾ƒä½çš„å€¼ï¼ˆå¦‚0.2ï¼‰ä¼šä½¿å…¶æ›´åŠ é›†ä¸­å’Œç¡®å®šæ€§ã€‚æˆ‘ä»¬é€šå¸¸å»ºè®®æ›´æ”¹æ­¤å€¼æˆ– `top_p`ï¼Œä½†ä¸è¦åŒæ—¶æ›´æ”¹ã€‚

#### `top_p`

- ç±»å‹ï¼šæ•°å­—æˆ– null  
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š1

ä¸€ç§æ›¿ä»£é‡‡æ ·æ¸©åº¦çš„æ–¹æ³•ï¼Œç§°ä¸ºæ ¸é‡‡æ ·ï¼Œå…¶ä¸­æ¨¡å‹è€ƒè™‘å…·æœ‰ top_p æ¦‚ç‡è´¨é‡çš„æ ‡è®°ç»“æœã€‚å› æ­¤ï¼Œ0.1 æ„å‘³ç€åªè€ƒè™‘åŒ…å«å‰ 10% æ¦‚ç‡è´¨é‡çš„æ ‡è®°ã€‚

æˆ‘ä»¬é€šå¸¸å»ºè®®æ›´æ”¹æ­¤å€¼æˆ– `temperature`ï¼Œä½†ä¸è¦åŒæ—¶æ›´æ”¹ã€‚

#### `n`

- ç±»å‹ï¼šæ•´æ•°æˆ– null
- å¿…éœ€ï¼šå¦  
- é»˜è®¤å€¼ï¼š1

ä¸ºæ¯ä¸ªè¾“å…¥æ¶ˆæ¯ç”Ÿæˆå¤šå°‘ä¸ªèŠå¤©è¡¥å…¨é€‰æ‹©ã€‚è¯·æ³¨æ„ï¼Œæ‚¨å°†æ ¹æ®æ‰€æœ‰é€‰æ‹©ç”Ÿæˆçš„æ ‡è®°æ•°é‡æ”¶è´¹ã€‚ä¿æŒ `n` ä¸º 1 å¯æœ€å¤§é™åº¦åœ°é™ä½æˆæœ¬ã€‚

#### `stop`

- ç±»å‹ï¼šå­—ç¬¦ä¸²/æ•°ç»„/null
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šnull

API å°†åœæ­¢ç”Ÿæˆæ›´å¤šæ ‡è®°çš„æœ€å¤š 4 ä¸ªåºåˆ—ã€‚

#### `max_tokens`

- ç±»å‹ï¼šæ•´æ•°æˆ– null
- å¿…éœ€ï¼šå¦

èŠå¤©è¡¥å…¨ä¸­å¯ä»¥ç”Ÿæˆçš„æœ€å¤§æ ‡è®°æ•°ã€‚æ­¤å€¼å¯ç”¨äºæ§åˆ¶é€šè¿‡ API ç”Ÿæˆçš„æ–‡æœ¬æˆæœ¬ã€‚

è¯¥å€¼ç°å·²å¼ƒç”¨ï¼Œå–è€Œä»£ä¹‹çš„æ˜¯ `max_completion_tokens`ï¼Œå¹¶ä¸”ä¸ `o1` ç³»åˆ—æ¨¡å‹ä¸å…¼å®¹ã€‚

#### `presence_penalty`

- ç±»å‹ï¼šæ•°å­—æˆ– null 
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼š0

ä»‹äº -2.0 å’Œ 2.0 ä¹‹é—´çš„æ•°å­—ã€‚æ­£å€¼æ ¹æ®æ–°æ ‡è®°åˆ°ç›®å‰ä¸ºæ­¢åœ¨æ–‡æœ¬ä¸­å‡ºç°çš„æƒ…å†µæ¥æƒ©ç½šå®ƒä»¬ï¼Œä»è€Œå¢åŠ æ¨¡å‹è®¨è®ºæ–°ä¸»é¢˜çš„å¯èƒ½æ€§ã€‚

#### `frequency_penalty`

- ç±»å‹ï¼šæ•°å­—æˆ– null
- å¿…éœ€ï¼šå¦  
- é»˜è®¤å€¼ï¼š0

ä»‹äº -2.0 å’Œ 2.0 ä¹‹é—´çš„æ•°å­—ã€‚æ­£å€¼æ ¹æ®æ–°æ ‡è®°åˆ°ç›®å‰ä¸ºæ­¢åœ¨æ–‡æœ¬ä¸­çš„ç°æœ‰é¢‘ç‡æ¥æƒ©ç½šå®ƒä»¬ï¼Œä»è€Œé™ä½æ¨¡å‹é€å­—é‡å¤åŒä¸€è¡Œçš„å¯èƒ½æ€§ã€‚

#### `logit_bias`

- ç±»å‹ï¼šmap
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šnull

ä¿®æ”¹æŒ‡å®šæ ‡è®°å‡ºç°åœ¨è¡¥å…¨ä¸­çš„å¯èƒ½æ€§ã€‚

æ¥å—ä¸€ä¸ª JSON å¯¹è±¡ï¼Œè¯¥å¯¹è±¡å°†æ ‡è®°ï¼ˆç”±åˆ†è¯å™¨ä¸­çš„æ ‡è®° ID æŒ‡å®šï¼‰æ˜ å°„åˆ°ä» -100 åˆ° 100 çš„å…³è”åå·®å€¼ã€‚åœ¨æ•°å­¦ä¸Šï¼Œåå·®è¢«æ·»åŠ åˆ°æ¨¡å‹åœ¨é‡‡æ ·ä¹‹å‰ç”Ÿæˆçš„å¯¹æ•°ä¸­ã€‚ç¡®åˆ‡çš„æ•ˆæœä¼šå› æ¨¡å‹è€Œå¼‚ï¼Œä½†ä»‹äº -1 å’Œ 1 ä¹‹é—´çš„å€¼åº”è¯¥ä¼šå‡å°‘æˆ–å¢åŠ é€‰æ‹©çš„å¯èƒ½æ€§ï¼›åƒ -100 æˆ– 100 è¿™æ ·çš„å€¼åº”è¯¥å¯¼è‡´ç›¸å…³æ ‡è®°è¢«ç¦æ­¢æˆ–ç‹¬å é€‰æ‹©ã€‚

#### `user`

- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦

è¡¨ç¤ºæœ€ç»ˆç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦ï¼Œå¯ä»¥å¸®åŠ© OpenAI ç›‘æ§å’Œæ£€æµ‹æ»¥ç”¨è¡Œä¸ºã€‚[äº†è§£æ›´å¤š](https://platform.openai.com/docs/guides/safety-best-practices/end-user-ids)ã€‚

#### `service_tier`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ– null
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šauto

æŒ‡å®šç”¨äºå¤„ç†è¯·æ±‚çš„å»¶è¿Ÿå±‚çº§ã€‚æ­¤å‚æ•°ä¸è®¢é˜…äº† scale tier æœåŠ¡çš„å®¢æˆ·ç›¸å…³ï¼š

- å¦‚æœè®¾ç½®ä¸º 'auto'ï¼Œä¸”é¡¹ç›®å¯ç”¨äº† Scale tierï¼Œç³»ç»Ÿå°†ä½¿ç”¨ scale tier ä¿¡ç”¨ç›´åˆ°ç”¨å®Œ
- å¦‚æœè®¾ç½®ä¸º 'auto'ï¼Œä¸”é¡¹ç›®æœªå¯ç”¨ Scale tierï¼Œè¯·æ±‚å°†ä½¿ç”¨é»˜è®¤æœåŠ¡å±‚çº§å¤„ç†ï¼Œå…·æœ‰è¾ƒä½çš„æ­£å¸¸è¿è¡Œæ—¶é—´ SLA ä¸”æ— å»¶è¿Ÿä¿è¯
- å¦‚æœè®¾ç½®ä¸º 'default'ï¼Œè¯·æ±‚å°†ä½¿ç”¨é»˜è®¤æœåŠ¡å±‚çº§å¤„ç†ï¼Œå…·æœ‰è¾ƒä½çš„æ­£å¸¸è¿è¡Œæ—¶é—´ SLA ä¸”æ— å»¶è¿Ÿä¿è¯
- æœªè®¾ç½®æ—¶ï¼Œé»˜è®¤è¡Œä¸ºä¸º 'auto'

#### `stream_options`

- ç±»å‹ï¼šå¯¹è±¡æˆ– null
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šnull

æµå¼å“åº”çš„é€‰é¡¹ã€‚ä»…åœ¨è®¾ç½® `stream: true` æ—¶ä½¿ç”¨ã€‚

#### `response_format`

- ç±»å‹ï¼šå¯¹è±¡
- å¿…éœ€ï¼šå¦

æŒ‡å®šæ¨¡å‹å¿…é¡»è¾“å‡ºçš„æ ¼å¼ã€‚

- è®¾ç½®ä¸º `{ "type": "json_schema", "json_schema": {...} }` å¯ç”¨ç»“æ„åŒ–è¾“å‡ºï¼Œç¡®ä¿æ¨¡å‹å°†åŒ¹é…æ‚¨æä¾›çš„ JSON schemaã€‚
- è®¾ç½®ä¸º `{ "type": "json_object" }` å¯ç”¨ JSON æ¨¡å¼ï¼Œç¡®ä¿æ¨¡å‹ç”Ÿæˆçš„æ¶ˆæ¯æ˜¯æœ‰æ•ˆçš„ JSONã€‚

é‡è¦æç¤ºï¼šä½¿ç”¨ JSON æ¨¡å¼æ—¶ï¼Œæ‚¨è¿˜å¿…é¡»é€šè¿‡ç³»ç»Ÿæˆ–ç”¨æˆ·æ¶ˆæ¯è‡ªè¡ŒæŒ‡ç¤ºæ¨¡å‹ç”Ÿæˆ JSONã€‚å¦åˆ™ï¼Œæ¨¡å‹å¯èƒ½ä¼šç”Ÿæˆæ— å°½çš„ç©ºç™½ç›´åˆ°ç”Ÿæˆè¾¾åˆ°ä»¤ç‰Œé™åˆ¶ã€‚

#### `seed`

- ç±»å‹ï¼šæ•´æ•°æˆ– null
- å¿…éœ€ï¼šå¦

Beta åŠŸèƒ½ã€‚å¦‚æœæŒ‡å®šï¼Œæˆ‘ä»¬çš„ç³»ç»Ÿå°†å°½æœ€å¤§åŠªåŠ›è¿›è¡Œç¡®å®šæ€§é‡‡æ ·ï¼Œä½¿å¾—å…·æœ‰ç›¸åŒ seed å’Œå‚æ•°çš„é‡å¤è¯·æ±‚åº”è¿”å›ç›¸åŒçš„ç»“æœã€‚ä¸ä¿è¯ç¡®å®šæ€§ï¼Œæ‚¨åº”å‚è€ƒå“åº”å‚æ•°ä»¥ç›‘æ§åç«¯çš„å˜åŒ–ã€‚

#### `tools`

- ç±»å‹ï¼šæ•°ç»„
- å¿…éœ€ï¼šå¦

æ¨¡å‹å¯èƒ½è°ƒç”¨çš„å·¥å…·åˆ—è¡¨ã€‚ç›®å‰ä»…æ”¯æŒå‡½æ•°ä½œä¸ºå·¥å…·ã€‚ä½¿ç”¨æ­¤å‚æ•°æä¾›æ¨¡å‹å¯èƒ½ç”Ÿæˆ JSON è¾“å…¥çš„å‡½æ•°åˆ—è¡¨ã€‚æœ€å¤šæ”¯æŒ 128 ä¸ªå‡½æ•°ã€‚

#### `tool_choice`

- ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ–å¯¹è±¡
- å¿…éœ€ï¼šå¦

æ§åˆ¶æ¨¡å‹è°ƒç”¨å“ªä¸ªå·¥å…·ï¼ˆå¦‚æœæœ‰ï¼‰ï¼š
- `none`ï¼šæ¨¡å‹ä¸ä¼šè°ƒç”¨ä»»ä½•å·¥å…·ï¼Œè€Œæ˜¯ç”Ÿæˆæ¶ˆæ¯
- `auto`ï¼šæ¨¡å‹å¯ä»¥åœ¨ç”Ÿæˆæ¶ˆæ¯æˆ–è°ƒç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå·¥å…·ä¹‹é—´é€‰æ‹©
- `required`ï¼šæ¨¡å‹å¿…é¡»è°ƒç”¨ä¸€ä¸ªæˆ–å¤šä¸ªå·¥å…·
- `{"type": "function", "function": {"name": "my_function"}}`ï¼šå¼ºåˆ¶æ¨¡å‹è°ƒç”¨ç‰¹å®šå·¥å…·

å½“æ²¡æœ‰å·¥å…·æ—¶é»˜è®¤ä¸º `none`ï¼Œæœ‰å·¥å…·æ—¶é»˜è®¤ä¸º `auto`ã€‚

#### `parallel_tool_calls`

- ç±»å‹ï¼šå¸ƒå°”å€¼
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼štrue

æ˜¯å¦åœ¨å·¥å…·ä½¿ç”¨æœŸé—´å¯ç”¨å¹¶è¡Œå‡½æ•°è°ƒç”¨ã€‚

## ğŸ“¥ å“åº”

è¿”å›ä¸€ä¸ªèŠå¤©è¡¥å…¨å¯¹è±¡,å¦‚æœè¯·æ±‚è¢«æµå¼ä¼ è¾“,åˆ™è¿”å›èŠå¤©è¡¥å…¨å—å¯¹è±¡çš„æµå¼åºåˆ—ã€‚

### å“åº”å¯¹è±¡è¯´æ˜

#### `id` 
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šå“åº”çš„å”¯ä¸€æ ‡è¯†ç¬¦

#### `object`
- ç±»å‹ï¼šå­—ç¬¦ä¸²  
- è¯´æ˜ï¼šå¯¹è±¡ç±»å‹,å€¼ä¸º "chat.completion"

#### `created`
- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šå“åº”åˆ›å»ºæ—¶é—´æˆ³

#### `model`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä½¿ç”¨çš„æ¨¡å‹åç§°

#### `system_fingerprint`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šç³»ç»ŸæŒ‡çº¹æ ‡è¯†ç¬¦

#### `choices`
- ç±»å‹ï¼šæ•°ç»„
- è¯´æ˜ï¼šåŒ…å«ç”Ÿæˆçš„å›å¤é€‰é¡¹
- å±æ€§:
  - `index`: é€‰é¡¹ç´¢å¼•
  - `message`: åŒ…å«è§’è‰²å’Œå†…å®¹çš„æ¶ˆæ¯å¯¹è±¡
  - `logprobs`: æ—¥å¿—æ¦‚ç‡ä¿¡æ¯
  - `finish_reason`: å®ŒæˆåŸå› 

#### `usage`
- ç±»å‹ï¼šå¯¹è±¡
- è¯´æ˜ï¼štoken ä½¿ç”¨ç»Ÿè®¡
- å±æ€§:
  - `prompt_tokens`: æç¤ºä½¿ç”¨çš„ token æ•°
  - `completion_tokens`: è¡¥å…¨ä½¿ç”¨çš„ token æ•°
  - `total_tokens`: æ€» token æ•°
  - `completion_tokens_details`: token è¯¦ç»†ä¿¡æ¯
