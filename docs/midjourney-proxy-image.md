# Midjourney å›¾åƒæ ¼å¼ï¼ˆMidjourney Proxy/Midjourney Proxy Plusï¼‰

!!! note "è¯·ä½ æ³¨æ„"
    è¯¥æ¥å£ **éMidjourneyå®˜æ–¹çš„æ¥å£**ï¼Œè€Œæ˜¯åŸºäºä½œè€… **novicezk** çš„å¼€æºé¡¹ç›® [**midjourney-proxy**](https://github.com/novicezk/midjourney-proxy) å®ç°çš„midjourneyä»£ç†æ¥å£ã€‚
    
    è¯¥é¡¹ç›®åˆ†ä¸ºä¸¤ä¸ªç‰ˆæœ¬ï¼ŒNew API éƒ½å·²ç»é€‚é…ï¼š
    
    - å¼€æºç‰ˆ [midjourney-proxy](https://github.com/novicezk/midjourney-proxy)
    
    - ä»˜è´¹ç‰ˆ [midjourney-proxy-plus](https://github.com/litter-coder/midjourney-proxy-plus)

    è¿™é‡Œéå¸¸æ„Ÿè°¢ä½œè€…çš„è´¡çŒ®ï¼Œè®©æˆ‘ä»¬å¯ä»¥æ–¹ä¾¿ä½¿ç”¨midjourneyçš„å¼ºå¤§åŠŸèƒ½ï¼Œå¦‚æœæœ‰æ—¶é—´ï¼Œè¯·ç»™ä½œè€…ä¸€ä¸ªStarï¼Œå¦‚æœæœ‰èƒ½åŠ›ï¼Œå»ºè®®æ”¯æŒä½œè€…çš„ä»˜è´¹ç‰ˆæœ¬ï¼Œè¯¥ç‰ˆæœ¬æ”¯æŒæ›´å¤šåŠŸèƒ½ã€‚

| åŠŸèƒ½ç±»åˆ« | å¼€æºç‰ˆ | ä»˜è´¹ç‰ˆ |
|---------|--------|--------|
| **åŸºç¡€åŠŸèƒ½** | | |
| ImagineæŒ‡ä»¤åŠç›¸å…³åŠ¨ä½œ | âœ“ | âœ“ |
| å«å›¾æ”¯æŒ | âœ“ | âœ“ |
| Blend(å›¾ç‰‡æ··åˆ) | âœ“ | âœ“ |
| Describe(å›¾ç”Ÿæ–‡) | âœ“ | âœ“ |
| ä»»åŠ¡å®æ—¶è¿›åº¦ | âœ“ | âœ“ |
| ä¸­æ–‡promptç¿»è¯‘ | âœ“ | âœ“ |
| promptæ•æ„Ÿè¯æ£€æµ‹ | âœ“ | âœ“ |
| user-tokenè¿æ¥wss | âœ“ | âœ“ |
| å¤šè´¦å·é…ç½® | âœ“ | âœ“ |
| **é«˜çº§åŠŸèƒ½** | | |
| Shorten(promptåˆ†æ) | âœ— | âœ“ |
| ç„¦ç‚¹ç§»åŠ¨(Pan) | âœ— | âœ“ |
| å›¾ç‰‡å˜ç„¦(Zoom) | âœ— | âœ“ |
| å±€éƒ¨é‡ç»˜(Vary Region) | âœ— | âœ“ |
| å…³è”æŒ‰é’®åŠ¨ä½œå’ŒRemixæ¨¡å¼ | âœ— | âœ“ |
| è·å–å›¾ç‰‡seedå€¼ | âœ— | âœ“ |
| **è´¦å·ç®¡ç†** | | |
| è´¦å·æ± æŒä¹…åŒ– | âœ— | âœ“ |
| å¤šç§å­˜å‚¨æ”¯æŒ(Redis/MySQL) | âœ— | âœ“ |
| è´¦å·ä¿¡æ¯è·å–å’Œè®¾ç½® | âœ— | âœ“ |
| ä»»åŠ¡å–æ¶ˆåŠŸèƒ½ | âœ— | âœ“ |
| å†…ç½®ç®¡ç†åå° | âœ— | âœ“ |
| **æ™ºèƒ½ç‰¹æ€§** | | |
| MJ V6.0æ”¯æŒ | âœ— | âœ“ |
| è´¦å·çŠ¶æ€è‡ªåŠ¨ç›‘æ§ | âœ— | âœ“ |
| æ¨¡å¼è‡ªåŠ¨åˆ‡æ¢ | âœ— | âœ“ |
| nijiãƒ»journey Botæ”¯æŒ | âœ— | âœ“ |
| InsightFaceäººè„¸æœåŠ¡ | âœ— | âœ“ |
| **å®‰å…¨æ€§èƒ½** | | |
| åŠ¨æ€é…ç½®æ”¯æŒ | âœ— | âœ“ |
| tokenæ‰çº¿é—®é¢˜ä¿®å¤ | âœ— | âœ“ |
| è‡ªåŠ¨éªŒè¯åŠŸèƒ½ | âœ— | âœ“ |
| è¿ç¦è¯è‡ªåŠ¨ç”³è¯‰ | âœ— | âœ“ |

## ğŸ“ ç®€ä»‹

Midjourneyæ˜¯ä¸€ä¸ªå¼ºå¤§çš„å›¾åƒç”Ÿæˆå’Œå¤„ç†æ¨¡å‹ï¼Œå¯ä»¥æ ¹æ®è‡ªç„¶è¯­è¨€æè¿°åˆ›å»ºã€ç¼–è¾‘å’Œä¿®æ”¹å›¾åƒã€‚é€šè¿‡æä¾›ä¸åŒçš„æ¥å£ï¼Œå¯ä»¥å®ç°å„ç§å›¾åƒç”Ÿæˆå’Œå¤„ç†ä»»åŠ¡ã€‚

## ğŸ”„ æµç¨‹ç¤ºæ„å›¾

```mermaid
graph TD
    A[å¼€å§‹] --> B{é€‰æ‹©ä»»åŠ¡ç±»å‹}
    
    %% Imagine æµç¨‹
    B -->|æ–‡ç”Ÿå›¾| C[æäº¤ Imagine ä»»åŠ¡]
    C --> D[è·å¾—åˆå§‹å›¾ç‰‡]
    D --> E{é€‰æ‹©æ“ä½œ}
    
    %% åŸºç¡€æ“ä½œåˆ†æ”¯
    E -->|U1-U4| F[æ”¾å¤§]
    E -->|V1-V4| G[å˜ä½“]
    
    %% Blend æµç¨‹
    B -->|å›¾ç‰‡æ··åˆ| H[æäº¤ Blend ä»»åŠ¡]
    H --> D
    
    %% Describe æµç¨‹
    B -->|å›¾ç”Ÿæ–‡| I[æäº¤ Describe ä»»åŠ¡]
    I --> J[è·å¾—å›¾ç‰‡æè¿°]
    
    %% Action & Modal æµç¨‹
    F --> K[æäº¤ Action]
    G --> K
    K -->|éœ€è¦å¼¹çª—| L[æäº¤ Modal]
    K -->|ç›´æ¥æ‰§è¡Œ| M[æ‰§è¡Œå®Œæˆ]
    L --> M
    
    %% Face Swap æµç¨‹
    B -->|äººè„¸æ›¿æ¢| N[æäº¤ Swap Face ä»»åŠ¡]
    N --> M
    
    %% æŸ¥è¯¢ç›¸å…³
    M --> O{åç»­æ“ä½œ}
    O -->|æŸ¥è¯¢è¿›åº¦| P[è·å–ä»»åŠ¡è¯¦æƒ…]
    O -->|è·å–ç§å­| Q[è·å–å›¾ç‰‡ Seed]
    O -->|ä¿å­˜å›¾ç‰‡| R[ä¸Šä¼ è‡³ Discord]
    
    %% æ ·å¼å®šä¹‰
    classDef process fill:#f9f,stroke:#333,stroke-width:2px
    classDef decision fill:#bbf,stroke:#333,stroke-width:2px
    classDef endpoint fill:#bfb,stroke:#333,stroke-width:2px
    
    class A,M,J,R endpoint
    class B,E,O decision
    class C,D,F,G,H,I,K,L,N,P,Q process
```

### æµç¨‹è¯´æ˜

1. **åˆå§‹ä»»åŠ¡**
   - Imagine: æ–‡æœ¬ç”Ÿæˆå›¾ç‰‡
   - Blend: å¤šå›¾æ··åˆ
   - Describe: å›¾ç‰‡æè¿°
   - Swap Face: äººè„¸æ›¿æ¢

2. **å›¾ç‰‡å¤„ç†**
   - U1-U4: æ”¾å¤§æ“ä½œ
   - V1-V4: å˜ä½“ç”Ÿæˆ
   - Pan: å›¾ç‰‡å¹³ç§»
   - Zoom: å›¾ç‰‡ç¼©æ”¾

3. **ç‰¹æ®Šæµç¨‹**
   - Action + Modal: éœ€è¦å¼¹çª—ç¡®è®¤çš„æ“ä½œ
   - Action ç›´æ¥æ‰§è¡Œ: ä¸éœ€è¦å¼¹çª—çš„æ“ä½œ

4. **ä»»åŠ¡ç®¡ç†**
   - è·å–ä»»åŠ¡è¯¦æƒ…
   - è·å–å›¾ç‰‡ Seed
   - ä¸Šä¼ è‡³ Discord

## ğŸ’¡ è¯·æ±‚ç¤ºä¾‹

### æäº¤Imagineä»»åŠ¡ âœ…

```bash
curl --location --request POST 'https://newapiåœ°å€/mj/submit/imagine' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "botType": "MID_JOURNEY",
  "prompt": "Cat",
  "base64Array": [],
  "accountFilter": {
    "channelId": "",
    "instanceId": "",
    "modes": [],
    "remark": "",
    "remix": true,
    "remixAutoConsidered": true
  },
  "notifyHook": "",
  "state": ""
}'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "code": 1,
  "description": "æäº¤æˆåŠŸ",
  "properties": {},
  "result": 1320098173412546
}
```

### æäº¤Blendä»»åŠ¡ âœ…

```bash
curl --location --request POST 'https://newapiåœ°å€/mj/submit/blend' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "botType": "MID_JOURNEY",
  "base64Array": [
    "data:image/png;base64,xxx1",
    "data:image/png;base64,xxx2"
  ],
  "dimensions": "SQUARE",
  "accountFilter": {
    "channelId": "",
    "instanceId": "",
    "modes": [],
    "remark": "",
    "remix": true,
    "remixAutoConsidered": true
  },
  "notifyHook": "",
  "state": ""
}'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "code": 1,
  "description": "æäº¤æˆåŠŸ",
  "properties": {},
  "result": 1320098173412546
}
```

### æäº¤Describeä»»åŠ¡ âœ…

```bash
curl --location --request POST 'https://newapiåœ°å€/mj/submit/describe' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "botType": "MID_JOURNEY",
  "base64": "data:image/png;base64,xxx",
  "accountFilter": {
    "channelId": "",
    "instanceId": "",
    "modes": [],
    "remark": "",
    "remix": true,
    "remixAutoConsidered": true
  },
  "notifyHook": "",
  "state": ""
}'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "code": 1,
  "description": "æäº¤æˆåŠŸ",
  "properties": {},
  "result": 1320098173412546
}
```

### æäº¤Modal âœ…

```bash
curl --location --request POST 'https://newapiåœ°å€/mj/submit/modal' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "maskBase64": "",
  "prompt": "",
  "taskId": "14001934816969359"
}'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "code": 1,
  "description": "æäº¤æˆåŠŸ",
  "properties": {},
  "result": 1320098173412546
}
```

### æäº¤swap_faceä»»åŠ¡ âœ…

```bash
curl --location --request POST 'https://newapiåœ°å€/mj/insight-face/swap' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "sourceBase64": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RDnYdriP1wsS81kwU8OVs/R3xu8s6bX7+zYnOH8coSqpmRSBjqerjcBlr2OB/lbAf/2Q==",
  "targetBase64": "data:image/jpeg;base64,/9j/4AAQSkZJRgABAQAAAQABAAD/2wCEAAkGBwgHBgkIBwgKCgkLDRYPDQwMDRsUFRAWIB0iIiAdHx8kKDQsJCYxJx8fLT0tMTU3Ojo6Iys/RD849k="
}'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "code": 0,
  "description": "string",
  "result": "string"
}
```

### æ‰§è¡ŒActionåŠ¨ä½œ âœ…

```bash
curl --location --request POST 'https://newapiåœ°å€/mj/submit/action' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "chooseSameChannel": true,
  "customId": "MJ::JOB::upsample::1::82c51c9d-bc33-4c07-a471-36c3dcb1a6f0",
  "taskId": "1728781324658687",
  "accountFilter": {
    "channelId": "",
    "instanceId": "",
    "modes": [],
    "remark": "",
    "remix": true,
    "remixAutoConsidered": true
  },
  "notifyHook": "",
  "state": ""
}'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "code": 1,
  "description": "æäº¤æˆåŠŸ",
  "properties": {},
  "result": 1320098173412546
}
```

### ä¸Šä¼ æ–‡ä»¶åˆ°discord âœ…

```bash
curl --location --request POST 'https://newapiåœ°å€/mj/submit/upload-discord-images' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Accept: application/json' \
--header 'Content-Type: application/json' \
--data-raw '{
  "base64Array": [],
  "filter": {
    "channelId": "",
    "instanceId": "",
    "remark": ""
  }
}'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "code": 0,
  "description": "string",
  "result": [
    "string"
  ]
}
```

### æ ¹æ®IDåˆ—è¡¨æŸ¥è¯¢ä»»åŠ¡ âœ…

```bash
curl --location --request POST 'https://newapiåœ°å€/mj/task/list-by-condition' \
--header 'Accept: application/json' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Content-Type: application/json' \
--data-raw '{
  "ids": []
}'
```

**å“åº”ç¤ºä¾‹:**

```json
[
  {
    "action": "IMAGINE",
    "buttons": [
      {
        "customId": "string",
        "emoji": "string",
        "label": "string",
        "style": 0,
        "type": 0
      }
    ],
    "description": "string",
    "failReason": "string",
    "finishTime": 0,
    "id": "string",
    "imageUrl": "string",
    "progress": "string",
    "prompt": "string",
    "promptEn": "string",
    "properties": {},
    "startTime": 0,
    "state": "string",
    "status": "NOT_START",
    "submitTime": 0
  }
]
```

### æŒ‡å®šIDè·å–ä»»åŠ¡ âœ…

```bash
curl --location --request GET 'https://newapiåœ°å€/mj/task/{id}/fetch' \
--header 'Accept: application/json' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Content-Type: application/json'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "action": "IMAGINE",
  "buttons": [
    {
      "customId": "string",
      "emoji": "string",
      "label": "string",
      "style": 0,
      "type": 0
    }
  ],
  "description": "string", 
  "failReason": "string",
  "finishTime": 0,
  "id": "string",
  "imageUrl": "string",
  "progress": "string",
  "prompt": "string",
  "promptEn": "string",
  "properties": {},
  "startTime": 0,
  "state": "string",
  "status": "NOT_START",
  "submitTime": 0
}
```

### è·å–ä»»åŠ¡å›¾ç‰‡çš„seed âœ…

```bash
curl --location --request GET 'https://newapiåœ°å€/mj/task/{id}/image-seed' \
--header 'Accept: application/json' \
--header 'Authorization: Bearer $NEWAPI_API_KEY' \
--header 'Content-Type: application/json'
```

**å“åº”ç¤ºä¾‹:**

```json
{
  "code": 0,
  "description": "string",
  "result": "string"
}
```

## ğŸ“® è¯·æ±‚

### ç«¯ç‚¹

#### æäº¤Imagineä»»åŠ¡
```
POST /mj/submit/imagine
```

æ ¹æ®æ–‡æœ¬æç¤ºåˆ›å»ºå›¾ç‰‡ã€‚

#### æäº¤Blendä»»åŠ¡
```
POST /mj/submit/blend
```

æ ¹æ®å¤šä¸ªè¾“å…¥å›¾ç‰‡èåˆç”Ÿæˆæ–°å›¾ç‰‡ã€‚

#### æäº¤Describeä»»åŠ¡
```
POST /mj/submit/describe
```

æ ¹æ®è¾“å…¥å›¾ç‰‡ç”Ÿæˆæ–‡å­—æè¿°ã€‚

#### æäº¤Modal
```
POST /mj/submit/modal
```

æäº¤æ¨¡æ€ä¿¡æ¯,ç”¨äºè°ƒæ•´å›¾ç‰‡ç”Ÿæˆç»†èŠ‚ã€‚

#### æäº¤swap_faceä»»åŠ¡ 
```
POST /mj/insight-face/swap
```

æ ¹æ®æºå›¾ç‰‡å’Œç›®æ ‡å›¾ç‰‡è¿›è¡Œäººè„¸äº¤æ¢ã€‚

#### æ‰§è¡ŒActionåŠ¨ä½œ
```
POST /mj/submit/action
```

å¯¹å·²ç”Ÿæˆçš„å›¾ç‰‡è¿›è¡Œåç»­æ“ä½œ,å¦‚æ”¾å¤§ã€è°ƒæ•´ç­‰ã€‚

#### ä¸Šä¼ æ–‡ä»¶åˆ°discord
```  
POST /mj/submit/upload-discord-images
```

å°†å›¾ç‰‡ä¸Šä¼ åˆ°discordå¹³å°ã€‚

#### æ ¹æ®IDåˆ—è¡¨æŸ¥è¯¢ä»»åŠ¡
```
POST /mj/task/list-by-condition
```

æ ¹æ®æŒ‡å®šçš„ä»»åŠ¡IDåˆ—è¡¨æŸ¥è¯¢ä»»åŠ¡è¯¦æƒ…ã€‚

#### æŒ‡å®šIDè·å–ä»»åŠ¡
```  
GET /mj/task/{id}/fetch
```

æ ¹æ®ä»»åŠ¡IDè·å–ä»»åŠ¡è¯¦æƒ…ã€‚

#### è·å–ä»»åŠ¡å›¾ç‰‡çš„seed  
```
GET /mj/task/{id}/image-seed
```

è·å–æŒ‡å®šä»»åŠ¡ç”Ÿæˆå›¾ç‰‡çš„seedå€¼ã€‚

### é‰´æƒæ–¹æ³•

åœ¨è¯·æ±‚å¤´ä¸­åŒ…å«ä»¥ä¸‹å†…å®¹è¿›è¡Œ API å¯†é’¥è®¤è¯ï¼š

```
Authorization: Bearer $NEWAPI_API_KEY$OPENAI_API_KEY
```

å…¶ä¸­ `$OPENAI_API_KEY` æ˜¯æ‚¨çš„ API å¯†é’¥ã€‚

### è¯·æ±‚ä½“å‚æ•°

#### æäº¤ Imagine ä»»åŠ¡

##### `botType`
- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šMID_JOURNEY
- å¯é€‰å€¼ï¼š
  - `MID_JOURNEY`: Midjourney æ¨¡å‹
  - `NIJI_JOURNEY`: Niji Journey æ¨¡å‹
- è¯´æ˜ï¼šé€‰æ‹©ä½¿ç”¨çš„ bot ç±»å‹

##### `prompt`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šå›¾åƒç”Ÿæˆçš„æ–‡æœ¬æç¤ºè¯
- æç¤ºï¼š
  - ä½¿ç”¨æ¸…æ™°å…·ä½“çš„æè¿°
  - å¯ä»¥åŒ…å«è‰ºæœ¯é£æ ¼ã€æ„å›¾ç­‰ç»†èŠ‚
  - æ”¯æŒè‹±æ–‡å’Œä¸­æ–‡è¾“å…¥

##### `base64Array`
- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šå«å›¾çš„ base64 ç¼–ç æ•°ç»„
- æ ¼å¼ï¼šæ¯ä¸ªå…ƒç´ åº”ä¸ºå®Œæ•´çš„ base64 å›¾ç‰‡å­—ç¬¦ä¸²ï¼ŒåŒ…å« MIME ç±»å‹å‰ç¼€

##### `accountFilter`
- ç±»å‹ï¼šå¯¹è±¡
- å¿…éœ€ï¼šå¦
- å±æ€§ï¼š
  - `channelId`: é¢‘é“ ID
  - `instanceId`: è´¦å·å®ä¾‹ ID
  - `modes`: è´¦å·æ¨¡å¼æ•°ç»„ï¼Œå¯é€‰å€¼ï¼šRELAXã€FASTã€TURBO
  - `remark`: å¤‡æ³¨åŒ…å«çš„å†…å®¹
  - `remix`: è´¦å·æ˜¯å¦æ”¯æŒ remix
  - `remixAutoConsidered`: remix è‡ªåŠ¨æäº¤è®¾ç½®

##### `notifyHook`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šä»»åŠ¡å®Œæˆåçš„å›è°ƒåœ°å€ï¼Œä¸ºç©ºæ—¶ä½¿ç”¨å…¨å±€ notifyHook

##### `state`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šè‡ªå®šä¹‰çŠ¶æ€å‚æ•°ï¼Œå¯ç”¨äºè·Ÿè¸ªè¯·æ±‚

#### æäº¤ Blend ä»»åŠ¡

##### `base64Array`
- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦æ··åˆçš„å›¾ç‰‡ base64 ç¼–ç æ•°ç»„
- æ ¼å¼ï¼šå¿…é¡»åŒ…å« 2-5 å¼ å›¾ç‰‡çš„ base64 å­—ç¬¦ä¸²

##### `dimensions`
- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- å¯é€‰å€¼ï¼š
  - `PORTRAIT`: 2:3 æ¯”ä¾‹
  - `SQUARE`: 1:1 æ¯”ä¾‹
  - `LANDSCAPE`: 3:2 æ¯”ä¾‹
- è¯´æ˜ï¼šè¾“å‡ºå›¾ç‰‡çš„å®½é«˜æ¯”è®¾ç½®

#### æäº¤ Describe ä»»åŠ¡

##### `base64`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šéœ€è¦æè¿°çš„å›¾ç‰‡çš„ base64 ç¼–ç 
- æ ¼å¼ï¼šå®Œæ•´çš„ base64 å­—ç¬¦ä¸²ï¼ŒåŒ…å« MIME ç±»å‹å‰ç¼€

#### æäº¤ Modal ä»»åŠ¡

##### `maskBase64`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šå±€éƒ¨é‡ç»˜çš„è’™ç‰ˆå›¾ç‰‡ base64 ç¼–ç 

##### `prompt`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šå¦
- è¯´æ˜ï¼šé‡ç»˜åŒºåŸŸçš„æ–‡æœ¬æç¤ºè¯

##### `taskId`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šåŸå§‹ä»»åŠ¡çš„ ID

#### æäº¤ Swap Face ä»»åŠ¡

##### `sourceBase64`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šäººè„¸æºå›¾ç‰‡çš„ base64 ç¼–ç 
- è¦æ±‚ï¼šå›¾ç‰‡å¿…é¡»åŒ…å«æ¸…æ™°çš„äººè„¸

##### `targetBase64`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šç›®æ ‡å›¾ç‰‡çš„ base64 ç¼–ç 
- è¦æ±‚ï¼šå›¾ç‰‡å¿…é¡»åŒ…å«è¦æ›¿æ¢çš„äººè„¸

#### æ‰§è¡Œ Action åŠ¨ä½œ

##### `chooseSameChannel`
- ç±»å‹ï¼šå¸ƒå°”å€¼
- å¿…éœ€ï¼šå¦
- é»˜è®¤å€¼ï¼šfalse
- è¯´æ˜ï¼šæ˜¯å¦é€‰æ‹©åŒä¸€é¢‘é“ä¸‹çš„è´¦å·

##### `customId`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šåŠ¨ä½œæ ‡è¯†ç¬¦
- æ ¼å¼ï¼šç‰¹å®šæ ¼å¼çš„å­—ç¬¦ä¸²ï¼Œå¦‚ "MJ::JOB::upsample::1::xxx"

##### `taskId`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦æ‰§è¡ŒåŠ¨ä½œçš„ä»»åŠ¡ ID

#### ä¸Šä¼ æ–‡ä»¶åˆ° Discord

##### `base64Array`
- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦ä¸Šä¼ çš„å›¾ç‰‡ base64 ç¼–ç æ•°ç»„

##### `filter`
- ç±»å‹ï¼šå¯¹è±¡
- å¿…éœ€ï¼šå¦
- å±æ€§ï¼š
  - `channelId`: ç›®æ ‡é¢‘é“ ID
  - `instanceId`: è´¦å·å®ä¾‹ ID
  - `remark`: å¤‡æ³¨ä¿¡æ¯

#### æ ¹æ® ID åˆ—è¡¨æŸ¥è¯¢ä»»åŠ¡

##### `ids`
- ç±»å‹ï¼šå­—ç¬¦ä¸²æ•°ç»„
- å¿…éœ€ï¼šæ˜¯
- è¯´æ˜ï¼šè¦æŸ¥è¯¢çš„ä»»åŠ¡ ID åˆ—è¡¨

### é€šç”¨å“åº”æ ¼å¼

æ‰€æœ‰æ¥å£éƒ½è¿”å›ç›¸ä¼¼çš„å“åº”ç»“æ„ï¼š

##### `code`
- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šçŠ¶æ€ç 

| çŠ¶æ€ç  | è¯´æ˜ |
|--------|------|
| 1 | æäº¤æˆåŠŸ |
| 22 | ä»»åŠ¡æ’é˜Ÿä¸­ |
| 21 | å‚æ•°é”™è¯¯ |
| 23 | ç³»ç»Ÿé”™è¯¯ |
| 24 | è´¦å·ä¸å¯ç”¨ |
| 25 | ä½™é¢ä¸è¶³ |

##### `description`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šå“åº”æè¿°ä¿¡æ¯

##### `properties`
- ç±»å‹ï¼šå¯¹è±¡
- è¯´æ˜ï¼šæ‰©å±•å±æ€§

##### `result`
- ç±»å‹ï¼šå­—ç¬¦ä¸²æˆ–æ•°ç»„
- è¯´æ˜ï¼šè¿”å›ç»“æœï¼Œå¯èƒ½æ˜¯ä»»åŠ¡ ID æˆ–å…¶ä»–æ•°æ®

## ğŸ“¥ å“åº”

### æˆåŠŸå“åº”

#### `action`
- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡ç±»å‹

| å­—ç¬¦ä¸²å€¼ | è¯´æ˜ |
|--------|------|
| `IMAGINE` | åˆ›å»ºå›¾ç‰‡ |
| `UPSCALE` | æ”¾å¤§å›¾ç‰‡ |
| `VARIATION` | å˜ä½“ç”Ÿæˆ |
| `ZOOM` | ç¼©æ”¾å›¾ç‰‡ |
| `PAN` | å¹³ç§»å›¾ç‰‡ |
| `DESCRIBE` | å›¾ç‰‡æè¿° |
| `BLEND` | å›¾ç‰‡æ··åˆ |
| `SHORTEN` | ç¼©çŸ­æç¤ºè¯ |
| `SWAP_FACE` | äººè„¸æ›¿æ¢ |

#### `buttons`
- ç±»å‹ï¼šå¯¹è±¡æ•°ç»„
- è¯´æ˜ï¼šå¯æ‰§è¡Œçš„æ“ä½œæŒ‰é’®

| æ•°ç»„åŒ…å«å±æ€§ | è¯´æ˜ |
|--------|------|
| `customId` | åŠ¨ä½œæ ‡è¯† |
| `emoji` | æŒ‰é’®å›¾æ ‡ |
| `label` | æŒ‰é’®æ–‡æœ¬ |
| `style` | æ ·å¼(2=Primary, 3=Green) |
| `type` | ç³»ç»Ÿå†…éƒ¨ä½¿ç”¨çš„ç±»å‹ |

#### `description`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡æè¿°ä¿¡æ¯

#### `failReason`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡å¤±è´¥åŸå› 

#### `finishTime`
- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šä»»åŠ¡å®Œæˆæ—¶é—´æˆ³

#### `id`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡å”¯ä¸€æ ‡è¯†ç¬¦

#### `imageUrl`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šç”Ÿæˆå›¾ç‰‡çš„URL

#### `progress`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡è¿›åº¦ä¿¡æ¯

#### `prompt`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šåŸå§‹æç¤ºè¯

#### `promptEn`
- ç±»å‹ï¼šå­—ç¬¦ä¸²
- è¯´æ˜ï¼šè‹±æ–‡æç¤ºè¯

#### `status`
- ç±»å‹ï¼šæšä¸¾å­—ç¬¦ä¸²
- è¯´æ˜ï¼šä»»åŠ¡çŠ¶æ€

| å­—ç¬¦ä¸²å€¼ | è¯´æ˜ |
|--------|------|
| `NOT_START` | æœªå¼€å§‹ |
| `SUBMITTED` | å·²æäº¤ |
| `MODAL` | æ¨¡æ€æ“ä½œä¸­ |
| `IN_PROGRESS` | è¿›è¡Œä¸­ |
| `FAILURE` | å¤±è´¥ |
| `SUCCESS` | æˆåŠŸ |
| `CANCEL` | å·²å–æ¶ˆ |

#### `submitTime`
- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šä»»åŠ¡æäº¤æ—¶é—´æˆ³

#### `startTime`
- ç±»å‹ï¼šæ•´æ•°
- è¯´æ˜ï¼šä»»åŠ¡å¼€å§‹æ‰§è¡Œæ—¶é—´æˆ³

### é”™è¯¯å“åº”

å½“è¯·æ±‚å‡ºç°é—®é¢˜æ—¶ï¼ŒAPI å°†è¿”å›é”™è¯¯å“åº”ï¼š

#### HTTP çŠ¶æ€ç 
- `400 Bad Request`: è¯·æ±‚å‚æ•°æ— æ•ˆ
- `401 Unauthorized`: API å¯†é’¥æ— æ•ˆæˆ–æœªæä¾›
- `403 Forbidden`: æƒé™ä¸è¶³
- `404 Not Found`: èµ„æºä¸å­˜åœ¨
- `429 Too Many Requests`: è¯·æ±‚é¢‘ç‡è¶…é™
- `500 Internal Server Error`: æœåŠ¡å™¨å†…éƒ¨é”™è¯¯

#### é”™è¯¯å“åº”æ ¼å¼
```json
{
  "code": <é”™è¯¯ç >,
  "description": "é”™è¯¯æè¿°ä¿¡æ¯",
  "result": null
}
```

## ğŸ’¡ æœ€ä½³å®è·µ

### Prompt ç¼–å†™å»ºè®®

1. ä½¿ç”¨æ¸…æ™°ç®€æ´çš„è¯­è¨€æè¿°æœŸæœ›çš„å›¾åƒå†…å®¹
2. å¯ä»¥å‚è€ƒMidjourneyæ”¯æŒçš„å„ç§å‚æ•°æ¥æ§åˆ¶å›¾ç‰‡é£æ ¼
3. é€‚å½“ä½¿ç”¨å¦å®šæè¿°ä»¥æ’é™¤ä¸éœ€è¦çš„å…ƒç´ 
4. å¯ä»¥é€šè¿‡å›¾ç‰‡URLä½œä¸ºå‚è€ƒæ¥æŒ‡å¯¼ç”Ÿæˆ

### å›¾ç‰‡ç”Ÿæˆæµç¨‹

1. æäº¤Imagineä»»åŠ¡,è·å¾—åˆæ­¥å›¾ç‰‡
2. å¿…è¦æ—¶é€šè¿‡Blendã€Modalç­‰ä»»åŠ¡è¿›ä¸€æ­¥ä¼˜åŒ–
3. æ‰§è¡ŒActionåŠ¨ä½œè¿›è¡Œå›¾ç‰‡å¾®è°ƒ
4. å°†æ»¡æ„çš„ç»“æœå›¾ç‰‡ä¸Šä¼ ä¿å­˜

### å›¾ç‰‡æ ¼å¼è¦æ±‚

1. æ”¯æŒçš„å›¾ç‰‡æ ¼å¼ï¼š
   
   - JPEG/JPG
   
   - PNG
   
   - GIF (é™æ€)
   
   - WEBP

2. å›¾ç‰‡å¤§å°é™åˆ¶ï¼š
   
   - æ–‡ä»¶å¤§å°ï¼šæœ€å¤§ 4MB
   
   - åˆ†è¾¨ç‡ï¼šå»ºè®® 1024x1024 æˆ–æ›´é«˜
   
   - å®½é«˜æ¯”ï¼šæ”¯æŒ 1:1ã€2:3ã€3:2

### æ€§èƒ½ä¼˜åŒ–å»ºè®®

1. Base64 ç¼–ç ï¼š
   
   - ä½¿ç”¨æ ‡å‡† Base64 ç¼–ç æ ¼å¼
   
   - åŒ…å«æ­£ç¡®çš„ MIME ç±»å‹å‰ç¼€
   
   - å‹ç¼©å›¾ç‰‡ä»¥å‡å°‘æ•°æ®ä¼ è¾“

2. ä»»åŠ¡å¤„ç†ï¼š
   
   - ä½¿ç”¨ webhook æ¥æ”¶ä»»åŠ¡å®Œæˆé€šçŸ¥
   
   - åˆç†è®¾ç½®é‡è¯•ç­–ç•¥
   
   - å»ºè®®ä½¿ç”¨å¼‚æ­¥å¤„ç†æ–¹å¼

### é”™è¯¯å¤„ç†

   - å®ç°è¯·æ±‚é‡è¯•æœºåˆ¶
   
   - æ·»åŠ é”™è¯¯æ—¥å¿—è®°å½•
   
   - è®¾ç½®åˆç†çš„è¶…æ—¶æ—¶é—´
